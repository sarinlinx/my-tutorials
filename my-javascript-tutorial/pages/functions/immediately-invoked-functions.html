<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="../../_css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../_css/style.css">

    <title>Immediately Invoked Functions</title>
</head>

<body>
    <a href="../../index.html">Home page</a>



    <section class="container">
        <h1>Immediately Invoked Functions</h1>
        <div class="row">
            <div class="col">
                <p>Good when you want to execute something only once, or immediately.</p>
                <p>Function expressions will execute automatically if the expression is followed by ().</p>
                <p>This function is actually an anonymous self-invoking function (function without name). AKA 'anonymous closure'.</p>
                <p>Originally used for protecting variables from the Global scope, but these days you can do this using const.</p>
            </div>
        </div>
        <h3>Why use IIFE?</h3>
        <div class="row">
            <div class="col">
                <p>They run immediately so they are not affected by code later in the script.</p>
                <p>Great for quickly populating a variable or argument in a larger function or a property in an object, and are often hooked to event listeners for an immediate output.</p>
            </div>
        </div>
    </section>



    <section class="container">
        <h2>3 ways to write an IIEF (Immediately Invoked Function Expression)</h2>
        <h3>Option 1</h3>
        <div class="row">
            <div class="col-6">
                <p>Wrap the function in parenthesis. <strong>Encapsulating the function in parentheses protect the variables from the global scope</strong>.</p>
                <p>The () is after the function has closed.</p>
            </div>

            <div class="col-6">
                <pre class="example"><span class="code-js">(function () {
  /* ... */
} ) <span class="standout">();</span></span></pre>
            </div>
        </div>

        <h4>example</h4>
        <div class="row">
            <div class="col-6">
                <p>example</p>
            </div>

            <div class="col-6">
                <pre class="example"><span class="code-js">var theBiggest = (function(a,b) {
  var result;
  a>b ? result = ["a", a] : result = ["b", b];
  return result;
} ) <span class="standout">(7/9,13/25)</span>;

console.log(theBiggest);</span></pre>
            </div>
        </div>


        <h3>Option 2</h3>
        <div class="row">
            <div class="col-6">
                <p>Wrap the function in parenthesis.</p>
                <p>The () is inside the function.</p>
            </div>

            <div class="col-6">
                <pre class="example"><span class="code-js">(function () {
  /* ... */
} <span class="standout">();</span> )</span></pre>
            </div>
        </div>

        <h3>Option 3</h3>
        <div class="row">
            <div class="col-6">
                <p>The ! takes the place of parenthesis.</p>
                <p>The () is inside the function.</p>
            </div>

            <div class="col-6">
                <pre class="example"><span class="code-js"><span class="standout">!</span> function(){
  // some codeâ€¦
} <span class="standout">()</span>;</span></pre>
            </div>
        </div>





        <h3>Immediately Invoked Arrow Function</h3>
        <div class="row">
            <div class="col-6">
                <p>The ! takes the place of parenthesis.</p>
                <p>The () is inside the function.</p>
            </div>

            <div class="col-6">
                <pre class="example"><span class="code-js">(() => console.log("Test")) ();</span></pre>
            </div>
        </div>

    </section>










    <section class="container">
        <h2>Using external variables with an IIFE</h2>
        <div class="row">
            <div class="col-6">
                <p>If you're going to use external variables rather than put them in the expression, they MUST comebefore the expression.</p>
            </div>

            <div class="col-6">
                <pre class="example"><span class="code-js">var firstFraction = 7/9;
var secondFraction = 13/25;

var theBiggest = (function(a,b) {
    var result;
    a>b ? result = [""a"", a] : result = [""b"", b];
    return result;
} ) (firstFraction,secondFraction)

console.log(theBiggest);</span></pre>
            </div>
        </div>

    </section>



    <section class="container">
        <h2>Accessing data within the function</h2>



          <div class="row">
              <div class="col-6">
    <p>To access data in the function, use a 'return' statement. This allows you to communicate back with the rest of the application.</p>
    <p>Additionally, instead of returning a statement, you can return an object. Through the object, you can create variables and functions.</p>
              </div>
            <div class="col-6">
                <pre class="example"><span class="code-js">var ray = (function() {
    return {
    speak: function() {
      console.log('hello');
    }
    };
    }) () ;</span></span></pre>
            </div>
        </div>

        <div class="row">
            <div class="col-6">
    <p>You can then call the function using dot notation.</p>
    <p>Now you can access that module from within your main application, while protecting all namespaces.</p>
            </div>
          <div class="col-6">
              <pre class="example"><span class="code-js">ray.speak();</span></span></pre>
          </div>
      </div>


    </section>

<script>
(() => console.log("Test Arrow")) ();
  </script>
</body>

</html>
