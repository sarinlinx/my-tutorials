<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="../../_css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../_css/style.css">

    <title>Invoking Functions</title>
</head>

<body>
    <a href="../../index.html">Home page</a>



    <section class="container">
        <h1>4 ways to invoking a Function</h1>
        <div class="row">
            <div class="col">
                <ol>
                    <li>Functions (common)</li>
                    <li>Methods (common)</li>
                    <li>Constructors</li>
                    <li>Call & Apply methods</li>
                </ol>
            </div>
        </div>

    </section>


    <section class="container">
        <h1>Where to call (invoke) the function?</h1>
        <div class="row">
            <div class="col">
                <p>It doesn't matter. The browser loads all JS, then runs it.</p>
                <p>But for readability, it's easier to put the function before it's called in the script.</p>
            </div>
        </div>





        <h3>Accessing the function without ()</h3>
        <div class="row">
            <div class="col-6">
                <p>To access a function you would use (). For example, if the function is named testFunction, you would call it using: testFunction().</p>
                <p>However, if you leave off the (), the function definition instead is returned.</p>

            </div>
            <div class="col-6">
                <pre class="example"><span class="code-js">function test() {
var y = 2;
var z = 2;
var x = y + z;
return x;
}

console.log(test());
console.log(test);</span></pre>
            </div>
            <img src="../../_img/call-function-without-parenthesis.png">
        </div>


    </section>






    <section class="container">
        <h2>Invoking as a function</h2>
        <div class="row">
            <div class="col-6">
                <p>This example prints 3 things to the console.</p>
                <ul>
                    <li>The first is the value 4 from the 'return' function. return is also a function, so you can use it like a function inside the function.</li>

                    <li>The value of 'this' is the window object in this example.</li>
                    <li>The 'arguments' parameter is outputted as an array. The 'arguments' parameter is useful when you want to create functions without passing a specific number of parameters. Allows you to create any amount of vars you like without creating
                        each and every one.</li>
                </ul>
                <p>Finally, the function is invoked using the function <span class="standout">plus(2,2);</span></p>
            </div>

            <div class="col-6">
                <pre class="example"><span class="code-js">function plus(a,b) {

  return (
    console.log(a+b),

    console.log(this),
    console.log(arguments)
  )
}

<span class="standout">plus(2,2);</span></span></pre>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <img class="img-fluid" src="../../_img/function_parameters.png">
            </div>
        </div>

        <h4>Example</h4>
        <div class="row">
            <div class="col-6">
                <p>This example returns two things.</p>
                <ul>
                    <li>moof</li>
                    <li>the window object</li>
                </ul>
                <p>This is because the 'speak' function is invoked with an argument of 'moof'. The console then prints that argument.</p>
                <p>Since the function is called without an owner Object, 'this' becomes the global window object.</p>
            </div>
            <div class="col-6">
                <pre class="example"><span class="code-js">var speak = function(what) {
          console.log(what);
          console.log(this);
        }

        speak("moof");</span></pre>
            </div>
        </div>
    </section>




    <section class="container">
        <h2>Invoking as a method</h2>
        <div class="row">
            <div class="col">
                <p>A method is nothing more than a function that has been assigned as a property of an object.</p>
                <p>This example creates an Object which contains a function.</p>
                <p>That function is then invoked using a method.</p>
                <p>One of the big advantages of calling functions as a method is that the 'this' keyword gets the value of the Object, which is really useful.</p>

                <div class="alert alert-note">
                    <div class="alert-icon">
                        <img src="../../_img/note-icon.png" width="60" height="60">
                    </div>
                    <div class="alert-content">
                        <p>The binding of 'this' happens at invocation time. This means that the 'this' attribute is not going to be bound to that object until you invoke the method.</p>
                        <p>This makes the function re-useable.</p>
                        <p>binding functions to objects and using them as methods is a great programming technique.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-6">
                <p>This returns 4 things.</p>
                <ul>
                    <li>The 'this' keyword returns the Object and all parameters.</li>
                    <li>4 is the result of the addition.</li>
                    <li>The 'arguments' parameter returns two arguments.</li>
                    <li>The 'this' keyword queries the 'status' parameter of the object.</li>
                </ul>
            </div>
            <div class="col-6">
                <pre class="example"><span class="code-js">var clac = {
status: 'Awesome',

plus: function(a,b){
  return (
    console.log(this),
    console.log(a+b),
    console.log(arguments),
    console.log(this.status)
    )
  }
}

<span class="standout">calc.plus(2,2);</span></span></pre>
            </div>
        </div>


        <div class="row">
            <div class="col">
                <img class="img-fluid" src="../../_img/function_parameters12.png">
            </div>
        </div>
    </section>










    <section class="container">
        <h2>Invoking as a constructor</h2>
        <div class="row">
            <div class="col">
                <p>If a function invocation is preceded with the new keyword, it is a constructor invocation.</p>
                <p>This looks like you create a new function, but since JavaScript functions are Objects, you are actually creating a new object.</p>
                <p>Functions in JavaScript can do more than just help you create methods for existing objects. They can create new objects themselves, which is called constructing an object.</p>
                <p>You create an object using the 'new' keyword.This method of creating an object is called 'constructor invocation.</p>
            </div>
        </div>

        <div class="row">
            <div class="col-6">
                <p>Dog is an object. Create a new object (instance of Dog) with the 'new' constructor.</p>
                <p>This prints out 'Rover'.</p>
            </div>
            <div class="col-6">
                <pre class="example"><span class="code-js">var Dog = function() {
  var name, breed;
}

firstDog = new Dog;
firstDog.name = "Rover";
firstDog.breed = "Doberman";

console.log(firstDog.name);</span></pre>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <img class="img-fluid" src="../../_img/invoke-constructor.png">
            </div>
        </div>
    </section>





    <section class="container">
        <h2>Invoking using Call and Apply methods (indirect invocation)</h2>
        <div class="row">
            <div class="col">
                <p>These methods give you more control over the 'this' keyword.</p>
                <p>They let you define what 'this' will be.</p>
                <p>Call & Apply both take 2 parameters:</p>
                <ul>
                    <li>What you want the value of the this argument to be inside the function</li>
                    <li>The arguments you want to pass to the function</li>
                </ul>
            </div>
        </div>






        <h3>The call() method</h3>
        <div class="row">
            <div class="col">
                <p>The call() method is a predefined JavaScript function method.</p>
                <p>It can be used to invoke (call) a function with an owner object as the first argument (parameter).</p>
                <p>With call(), you can use a method belonging to another object.</p>
            </div>
        </div>

        <h4>Example</h4>
        <div class="row">
            <div class="col-6">
                <p>This example calls the fullName function of the 'person' Object, but is using it on the 'myObject' Object.</p>
                <p>If you just entered <span class="standout">person.fullName();</span>, the output would be 'John Doe'.</p>
                <p>But when you use call() on another Object, it calls that Objects properties, then runs the function from the first Object.</p>
            </div>
            <div class="col-6">
                <pre class="example"><span class="code-js">var person = {
  firstName:"John",
  lastName: "Doe",
  fullName: function() {
  return this.firstName + " " + this.lastName;
  }
}

var myObject = {
  firstName:"Mary",
  lastName: "Doe",
}

<span class="code-comment">// Will return "Mary Doe"</span>
person.fullName.call(myObject);</span></pre>
            </div>
        </div>

        <h4>Example</h4>
        <div class="row">
            <div class="col-6">
                <p>This returns 'purr'.</p>
            </div>
            <div class="col-6">
                <pre class="example"><span class="code-js">var speak = function(what) {
  console.log(this.love);
}

var saySomething = {
  normal: "meow",
  love: "purr"
}

speak.call(saySomething);</span></pre>
            </div>
        </div>


        <h4>Example</h4>
        <div class="row">
            <div class="col-6">
                <p>This returns 'meow'.</p>
                <p>The call() method calls the 'saySomthing' Object. This first line controls the value of 'this'.</p>
                <p>The 2nd param is sent to the function as a value to pass.</p>
            </div>
            <div class="col-6">
                <pre class="example"><span class="code-js">var speak = function(what) {
  console.log(what);
}

var saySomething = {
  normal: "meow",
  love: "purr"
}

speak.call(saySomething, saySomething.normal);</span></pre>
            </div>
        </div>
    </section>












    <section class="container">
        <h3>The apply() method</h3>
        <div class="row">
            <div class="col">
                <p>The apply() method is similar to call(), but it passes an array (instead of object or element).</p>
            </div>
        </div>

        <h4>Example</h4>
        <div class="row">
            <div class="col-6">
                <p>This returns: 'hiss'.</p>
            </div>
            <div class="col-6">
                <pre class="example"><span class="code-js">var speak = function(what) {
  console.log(what);
}

var saySomething = {
  normal: "meow",
  love: "purr"
}

speak.apply(saySomething, ['hiss']);</span></pre>
            </div>
        </div>



        <h3>The Difference Between call() and apply()</h3>
        <div class="row">
            <div class="col">
                <p>call() takes any function arguments separately.call() passes a value.</p>
                <p>apply() takes any function arguments as an array. apply() passes an array.</p>
                <p>The apply() method is very handy if you want to use an array instead of an argument list.</p>
            </div>
        </div>


    </section>









    <script src="../../_js/jquery.js"></script>
    <script src="../../_js/bootstrap.bundle.js"></script>
</body>

</html>