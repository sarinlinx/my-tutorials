<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="../../../_css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../../../_css/style.css">
    <title>Storage</title>
</head>

<body>
    <a href="../../../index.html">Home page</a>

    <section class="container">
        <div class="row">
            <div class="col">




                <script>
                </script>

            </div>
        </div>
    </section>



    <section class="container">
        <h1>Basics</h1>
        <h3>Overview</h3>
        <div class="row">
            <div class="col">
                <p>There are two types of web storage APIS.</p>
                <ul>
                    <li>localStorage - data persits until you remove it</li>
                    <li>sessionStorage - data persists until you close the browser</li>
                </ul>
                <p>Use localStorage to control how long the state of your application remains. You can use timers to set the time frame of how long its stored. Non-sesitive data is also good for localStorage.</p>
                <p>Use sessionStorage when privacy of data is a concern.</p>

                <h3>CRUD</h3>
                <p>Any data storage must be able to perform 4 basic operations</p>
                <p>CRUD</p>
                <ul>
                    <li>Create</li>
                    <li>Read</li>
                    <li>Update</li>
                    <li>Delete</li>
                </ul>
                <p>All methods use a Global variable named localStorage.</p>
                <p>Local storage only stores string values. You can store Array data, but you need to convert it to a string first.</p>
            </div>
        </div>

        <h3>Viewing local storage in Chrome's Dev Tools</h3>
        <div class="row">
            <div class="col">

                <p>Open Dev Tools. Click the 'Applications' tab. In the left menu is a section titled 'Storage'. Under this is 'Local Storage'.</p>
                <p>Click this, then click the URL to view its data.</p>
                <p>NOTE: If you change the value here, it updates the actual local storage value.</p>
            </div>
        </div>







        <h1>localStorage</h1>
        <h2>Basics</h2>
        <h3>Create or update storage</h3>
        <div class="row">
            <div class="col-5">

                <p>Use setItem() to create or update storage.</p>
                <p>Pass two arguments: key and value</p>
                <p>The key in this one is named location.</p>
                <p>The value in this example is Philadelphia.</p>
            </div>

            <div class="col-7">
                <pre class="example"><span class="code-js">localStorage.setItem('location', 'Philadelphia')</pre>
            </div>
        </div>

        <h3>Read storage</h3>
        <div class="row">
            <div class="col-5">

                <p>Use getItem() to read storage.</p>
                <p>This just takes 1 arg which is the key.</p>
                <p>This example looks for the location that was stored.</p>
                <p>The value is what comes back from this method.</p>
                <p>This example prints to the console: Philadelphia</p>
            </div>

            <div class="col-7">
                <pre class="example"><span class="code-js">localStorage.setItem('location', 'Philadelphia')
console.log(localStorage.getItem('location'))</pre>
            </div>
        </div>

        <h3>Delete storage</h3>
        <div class="row">
            <div class="col-5">

                <p>Use removeItem().</p>
                <p>This just takes 1 arg which is the key.</p>
            </div>

            <div class="col-7">
                <pre class="example"><span class="code-js">localStorage.removeItem('location'))</pre>
            </div>
        </div>

        <h3>Clear all data in local storage</h3>
        <div class="row">
            <div class="col-5">

                <p>Use clear().</p>
            </div>

            <div class="col-7">
                <pre class="example"><span class="code-js">localStorage.clear()</pre>
            </div>
        </div>




        <h2>Storing an Object</h2>
        <h3>Convert the Object into a string</h3>
        <div class="row">
            <div class="col-5">

                <p>To store an Object, you need to first convert it to a string.</p>
                <p>Use JSON on the global variable.</p>
                <p>You then use two methods of JSON. stringify() and parse()</p>
                <p>stringify() takes in your Object or Array and returns a string.</p>
            </div>

            <div class="col-7">
                <pre class="example"><span class="code-js">const user = {
  name: 'Chris',
  age:  '27'
}

const userJSON = JSON.stringify(user)
console.log(userJSON)</span></pre>
            </div>
        </div>

        <h5>Output</h5>
        <div class="row">
            <div class="col-5">

                <p>Output:</p>
            </div>
            <div class="col-7">
                <pre class="example"><span class="code-output">{"name":"Chris","age":"27"}</span></pre></div>
        </div>

        <h3>Save the string data into local storage</h3>
        <div class="row">
            <div class="col-5">

                <p>Use setItem.</p>
                <p>The key can be anything.</p>
                <p>The value is the variable name of the Object's string you saved.</p>
                <p>View local storage in your browser and you'll see the full string content.</p>
            </div>

            <div class="col-7">
                <pre class="example"><span class="code-js">localStorage.setItem('user', userJSON)</span></pre>
            </div>
        </div>



        <h2>Printing the stored string data by converting the Object into a string</h2>
        <div class="row">
            <div class="col-5">
                <p>You must convert the string back into an object to display.</p>
                <p>Use getItem() to read the data.</p>
                <p>Convert the JSON string back into an Object using parse().</p>
                <p>You put the variable you stored the JSON property in as its argument.</p>
            </div>

            <div class="col-7">
                <pre class="example"><span class="code-js">const getUser = localStorage.getItem('user')
const userData = JSON.parse(userJSON)
console.log(`${userData.name} is {userData.age}`)</span></pre>
            </div>
        </div>










        <section class="container">
            <h1>sessionStorage</h1>
            <h2>Methods</h2>
            <div class="row">
                <div class="col">
                    <p>The methods for sessionStorage are the same as localStorage. For example.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <p>set</p>
                </div>
                <div class="col-6">
                    <pre class="example"><span class="code-js">sessionStorage.setItem('location', 'Philadelphia')</span></pre>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <p>get</p>
                </div>
                <div class="col-6">
                    <pre class="example"><span class="code-js">sessionStorage.getItem('location')</span></pre>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <p>remove</p>
                </div>
                <div class="col-6">
                    <pre class="example"><span class="code-js">sessionStorage.removeItem('location')</span></pre>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <p>clear</p>
                </div>
                <div class="col-6">
                    <pre class="example"><span class="code-js">sessionStorage.clear()</span></pre>
                </div>
            </div>

            <h2>Basics</h2>
            <h5 id="title"></h5>

            <form>
                <label for="myName">Enter your name:</label>
                <input id="sessionName" type="text" required>
                <input id="submitName" type="submit" value="Click Here">
                <button id="removeName" type="submit">Remove</button>
            </form>

            <h3>HTML</h3>
            <div class="row">
                <div class="col-5">

                    <p>Create a form with an input field and a submit and remove button</p>
                </div>

                <div class="col-7">
                    <pre class="example"><span class="code-html">&lt;form&gt;
  &lt;label for="myName"&gt;Enter your name:&lt;/label&gt;
  &lt;input id="sessionName" type="text" required&gt;
  &lt;input id="submitName" type="submit" value="Click Here"&gt;
  &lt;button id="removeName" type="submit"&gt;Remove&lt;/button&gt;
&lt;/form&gt;</pre>
                </div>
            </div>

            <h3>JS</h3>
            <div class="row">
                <div class="col-5">

                    <p>This will set in sessionStorage any text entered.</p>
                    <p>The remove button removes the current sessionStorage</p>
                </div>

                <div class="col-7">
                    <pre class="example"><span class="code-js">const input = document.querySelector('#sessionName')
const form = document.querySelector('form')
const submit = document.querySelector('#submitName')
const remove = document.querySelector('#removeName')

form.addEventListener('submit', (e) => {
    e.preventDefault()
})

submit.addEventListener('click', () => {
    sessionStorage.setItem('myName', input.value)
})

remove.addEventListener('click', () => {
    sessionStorage.removeItem('myName')
})

const name = sessionStorage.getItem('myName')
const h1 = document.querySelector('#title')

//if name key exists in sessionStorage, ternary
name ? h5.textContent = `Welcome ${myName}` : h5.textContent = 'So sad nobody to welcome'</pre>
                </div>
            </div>
        </section>




        <script>
            //localStorage example
            localStorage.setItem('location', 'Philadelphia')
            console.log(localStorage.getItem('location'))

            //sessionStorage example
            const input = document.querySelector('#sessionName')
            const form = document.querySelector('form')
            const submit = document.querySelector('#submitName')
            const remove = document.querySelector('#removeName')

            form.addEventListener('submit', (e) => {
                e.preventDefault()
            })

            submit.addEventListener('click', () => {
                sessionStorage.setItem('myName', input.value)
            })

            remove.addEventListener('click', () => {
                sessionStorage.removeItem('myName')
            })

            const name = sessionStorage.getItem('myName')
            const h1 = document.querySelector('#title')

            //if name key exists in sessionStorage, ternary
            name ? h1.textContent = `Welcome ${myName}` : h1.textContent = 'So sad nobody to welcome'
        </script>
    </section>



</body>

</html>